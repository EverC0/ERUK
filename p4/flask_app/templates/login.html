{% extends "header.html" %}
{% block content %}
<div class="container mx-auto w-full md:w-2/3 lg:w-1/3">
    <h2 class="text-2xl font-bold text-center">Log In</h2>
</div>
<div class="container mx-auto w-full md:w-2/3 lg:w-1/3 text-center my-2">
    If you don't have an account, <a class="text-blue-400 duration-150 hover:text-blue-200 underline" href="{{ url_for('users.register') }}">register here</a>.
</div>
<div class="container mx-auto w-full md:w-2/3 lg:w-1/3">

    {# show flashed messages if an authentication error occurs #}
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <div class="error" role="alert">
                    <span>{{ message }}</span>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form class="review-form" method="POST" action="">
        {{ form.csrf_token }}
        <div class="form-group review-input">
            {{ form.username.label }}
            {{ form.username(class="form-content") }}
            {% if form.username.errors %}
            <div class="error" role="alert">
                {% for error in form.username.errors %}
                <span>{{ error }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        <div class="form-group review-input">
            {{ form.password.label }}
            {{ form.password(class="form-content") }}
            {% if form.password.errors %}
            <div class="error" role="alert">
                {% for error in form.password.errors %}
                <span>{{ error }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        {{ form.submit(class="review-button") }}
    </form>

    <!-- Add Google Login Button -->
    <div class="mt-6">
        <div class="relative">
            <div class="absolute inset-0 flex items-center">
                <div class="w-full border-t border-gray-300"></div>
            </div>
            <div class="relative flex justify-center text-sm">
                <span class="px-2 bg-white text-gray-500">Or continue with</span>
            </div>
        </div>

        <div class="mt-6">
            <a href="{{ url_for('google.login') }}" class="w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">
                <svg class="w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="#EA4335" d="M12 10v4.8h6.8c-.3 1.5-1.1 2.8-2.4 3.6l3.8 3c2.5-2.4 3.9-5.9 3.9-10 0-3.2-.8-6.2-2.2-8.8l-4.1 3.2c1 2.6 1 5.8-.2 8.2H12z"/>
                    <path fill="#4285F4" d="M5.3 14.7l-1.4 1.1C3.3 13.3 2.5 10.8 2.5 8c0-2.3.6-4.5 1.6-6.4l3.8 3c-.5 1.4-.4 3.1.2 4.4H5.3z"/>
                    <path fill="#FBBC05" d="M16.7 18.4c-1.2.8-2.6 1.3-4.2 1.3-3.2 0-6-2.1-7-5l-4 3.1c1.7 3.3 5.1 5.6 9 5.6 2.7 0 5.2-.7 7.1-2z"/>
                    <path fill="#34A853" d="M12 22c2.7 0 5.2-.9 7.1-2.4l-3.8-3c-1 .7-2.2 1.1-3.6 1.1-2.8 0-5.2-1.9-6-4.5H2.5c1.3 4 5 7 9.5 7z"/>
                    <path fill="#EA4335" d="M12 10h7.8c.1.4.2.8.2 1.3 0 4.3-2.9 7.3-7.2 7.3-2.1 0-4.1-.8-5.5-2.3l-.4-.3-4-3.1-.1-.1H12z"/>
                </svg>
                Sign in with Google
            </a>
        </div>
    </div>
</div>
{% endblock %}